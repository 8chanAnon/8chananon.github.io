<!DOCTYPE html><html><head>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<base href="https://8chananon.github.io/" target="_blank">
<link rel="icon" href="favicon.ico">

<title>Alleycat News</title>

<style type="text/css">

body {
  color: brown; background-color: lemonchiffon; margin: 15px;
}

hr {
  border-color: thistle; border-style: solid; margin: 20px -6px;
}

ul {
  padding: 0 1em 0 1em; list-style: square;
}

li {
  margin: 5px 0 5px 0;
}

r_ { color: crimson; }
g_ { color: green; }
b_ { color: blue; }

</style></head><body>

<h1 style="text-align:center"><r_>Alleycat</r_> <g_>News</g_></h1>

<p><hr><p>

<b> On this day of June 10, 2022</b>
<p>
Time for a rant. This is about Node.js which is the development tool that I use to implement the Kraker Local
Proxy Server. I have one favourable comment about this tool: it works flawlessly once you figure out what to do and what
not to do. So far, no mysterious crashes or hangups that can't be traced to something that I did "wrong". On the other
hand, the documentation is FUBAR (fucked up beyond all repair). Half of the specs don't actually apply, perhaps because
the tool has gone through too many revisions. Event handling is the biggest headache. Also, it is difficult to understand
where memory leaks come from because important stuff like proper socket destruction is barely touched on. You are given
the impression that everything just works so you don't need to worry your little head with picayune details like
"did I close that socket properly or not?". The biggest snafu is the HTTP Request module. What a mess. Important
revisions took place with Node.js v13 and v16 that aren't documented. You're just supposed to know about them by
following the developer forum, I guess.
<p>
These revisions are anything but minor. They are code-breaking and figuring out how to get around that can involve
a lot of experimentation to find the differences so that the code can be reworked to compensate. With v13, the timing
of some events was changed. When an HTTP transaction is passed down from the HTTP server, there are two forks: the
request fork and the response fork. The first one receives the headers and data FROM the caller while the second
sends the headers and data back TO the caller. It's a good division of labour and I'm not complaining about that. The
difficulty lies in knowing when one or the other has completed processing. This is what events are for. They signal
when something important has occurred. Now, don't get me wrong. The changes in v13 are justified and I'm surprised
that it took so many versions between 10.0.0 and 13.0.0 to figure this shit out.
<p>
The important difference for me is that the response fork issues a "close" event in v10 only when the response is
aborted (usually because the destination server closed the socket). In v13, the event is issued always when the
response completes. Big difference if your code is relying on the event to detect an aborted as opposed to a
completed transaction. Another change occurred in v16. An aborted HTTP transaction <b>no longer closes the
underlying sockets</b>. This is a biggie and I can't understand why they made such a change so late in the game.
This behavioural change should have been made optional because it is abso-fucking-lutely code-breaking. I wasted
several hours of my time trying to figure out an elegant solution to this which won't break compatibility with
earlier versions. My code is designed to be compatible with all Node.js versions from v10 up to the latest version.
I need to carefully craft the code to handle any discrepancies between versions. I refuse to be put in the situation
of having to inform my users that, hey, you should upgrade your copy of Node.js because I'm too lazy to fix my code.
I just don't operate that way unless I can find no other alternative.
<p>
End of rant. I'm quite pleased with the final outcome. I have finally rid the code of all traces of memory leakage
(crosses fingers). My goal of maintaining a memory footprint of around 15MB seems to have been achieved. Now, this
is actually pretty important. I have read many complaints about excessive memory usage and I have no doubt that
this is due to a lack of understanding of how Node.js handles events and socket closures. The horror stories of
Node.js apps consuming hundreds of megabytes can be traced to these memory leaks. It's the same problem that I've
been struggling with over the last few versions of my proxy server app. When I first built the proxy, it was only
for the sake of Alleycat Player so the actual usage was low and thus the opportunity for memory leaks was low also.
With the inclusion of the Socks5 proxy, DNS support and other features, I now have ALL activity from my web browser
streaming through the proxy server. Memory leakage is therefore a more important issue than it was.
<p>
Granted, the browser consumes 20 to 50 times the memory but I'm a stickler for perfection. Anyway, if you're a
budding amateur developer who has dabbled with or is planning to dabble with Node.js then you should think seriously
about carefully studying my code. It might help you to understand what you're doing wrong before you do it.
Good luck and please don't hesitate to drop me an email with any questions you may have. After all, what is the point
of doing what I'm doing if it is not to help someone (hopefully a lot of someones)?


<p><hr><p>

<b>News item for June 9, 2022</b>
<p>
Oh my goodness! The DMCA notice references the blobs in my repository rather than the canonical paths. What this
means is that modifying or deleting the files makes no difference. I would need to install a tool to prune the
GitHub history tree to removed the blobs. If you don't understand what I'm talking about then join the club.
I ended up deleting the entire repository and rebuilding it because that was easier than figuring out how to
delete the history or the blobs or whatever it is I was supposed to do. I hope this doesn't happen again.

<p><hr><p>

<b>News item for June 7, 2022</b>
<p>
Wow! Got hit with a DMCA notice today. This affects versions of Alleycat Player from v4b to v5b. Corus Entertainments
doesn't like having their free Global News feeds passed around the Internet. A great many IPTV playlists are affected
all over GitHub. For the time being, I have removed all of the affected copies of Alleycat except for v5b from which I
have removed the Global News link. I'm thinking of using a simple algorithm to obfuscate the link so that Corus won't
be able to find it again. They're obviously just using a simple string search to find the links. Obfuscation won't work
for all of those playlists though. The DMCA notice lists a few hundred. Geez, what a needless
headache for the GitHub management.
<p>
The DMCA notice is here: <a href="dl/2022-06-06-corus.txt">Plain Text</a>
or <a href="dl/2022-06-06-corus.rtf">Rich Text Format</a>

<p><hr><p>

<b>News item for May 15, 2022</b>
<p>
Oh man! So long since I've typed something here. I just finished a massive update on the Kraker Local Proxy Server
instruction manual. There is a LOT to document with the new update to version 4a (and I still have a few more things
to cover but this is enough for now). Kraker isn't just a side tool for Alleycat Player anymore. It's now in the big leagues
and deserving of some kind of an award. If I do say so myself, kek.
<p>
Anyway, I'm tired right now but I'll be back soon to post my thoughts. Stay tuned, fren.

<p><hr><p>

<b>News item for November 17, 2021</b>
<p>
Alleycat Player will be two years old on December 7. Hard to believe that it's been that long. As noted on the main
page, the installation and user manuals have been updated. This was way overdue and I've had to really drag
myself to the task after leaving it aside for over a year. Now it's done and I can kick back with quart of tequila and
celebrate all the hard work I've put into this. Hope somebody appreciates it. Later.

<p><hr><p>

<b>News item for October 13, 2021</b>
<p>
I had to upload a new update for the 8kun Bread Launcher because I found some issues with Chrome-based browsers.
The problem is that Chrome is a dog at opening new tabs and preparing the DOM. It reports that it is ready
when it is not. This forces me to place extra checks and timeouts to make sure that the DOM is actually ready to be
modified correctly. If I don't do this, I get the wrong values for things like the width or height of an element.
This causes two problems when opening a new tab: the title in the status bar may not appear and images may be
placed on the wrong side (the right instead of the left).
<p>
Another thing is that Chrome is stubborn about timers running in a page. It wants to slow them down when the page
is in the background. That's fine. I understand how some web developers will abuse timers. However, a timer
should only be slowed down if it consumes a lot of CPU. The auto-update timer in the Launcher does not consume CPU
until it hits zero. There is no good reason to slow it down but Chrome is dumb and stupid about it. Anyway, the
solution is to move the timer out of the main page and into the daughter page (because the main page is running
in the background). It's just one line of code. Chrome will only slow it down if the daughter page goes to the
background. Which is still wrong but it is at least tolerable.

<p><hr><p>

<b>News item for October 9, 2021</b>
<p>
I am pleased to announce that the 8kun Bread Launcher finally supports posting. This is just a preliminary update.
The posting feature is not yet full-featured but that'll come in the next week or so. Barring head-scratching
complications, of course, and I've had a lot of them with this update. HTML and CSS never cease to present me
with browser compatibility problems. For example, it turns out that Chrome browsers put a little blank space below
the &lt;textarea&gt; element that should not be there. I had to hit the Internet to find a solution which was to
add the setting "vertical-align:top" to the CSS for the element. Really??? Why do these things happen? Oh well. At
least we are past the bad old days of Internet Explorer and Netscape.
<p>
Something is totally buggered with the "XMLHttpRequest" component. This is used to implement the posting operation.
I could have used "fetch", which is what I would normally do, but I wanted to implement an upload progress indicator
and that is not possible with "fetch". I got the indicator working but it doesn't actually work. I know it doesn't
work in Firefox and I haven't bothered to test with the other browsers but my research on the net seems to indicate
that this is a problem all around. The problem is with the "onprogress" callback which doesn't fire at
regular intervals and often indicates the wrong amount of progress. I mean, it'll jump to 62% done right off the bat
and then not fire again. Shit like that. Oh well, at least the uploading works.

<p><hr><p>

<b> On this day of September 17, 2021</b>
<p>
I encountered a peculiar artifact while I was revamping the HTML for the Alleycat main page. My goal was to keep
the text in a panel separate from the image in the same panel such that, if you zoom in (or if the user forces a
larger font), the text won't wrap around the image as the panel expands vertically. Also, the image will remain
centered. The only practical way to achieve such is to use a table format. An odd thing happened due to the inclusion
of a table inside the panel. A 5-pixel-tall space appeared below the bottom border of each panel.
<p>
It was not my CSS that caused this spatial displacement. There was absolutely no reason for it and the artifact
appeared in different browsers. In Firefox, the spacing varied by a pixel (arrgh). Originally, the panels were
constructed with a &lt;div&gt; tag so I simply built the table inside the div. Removing the div and transferring
the CSS to the &lt;table&gt; tag cleared up the problem. I have no idea what went wrong but I guess I should be
happy that it is now fixed.
<p>
I have a similar issue with Alleycat Player and it may be due to the way the table format conflicts with something
else in the video viewers. All three viewers should be displayed exactly the same but they are not. There is
one out of the three which has a slight difference somewhere. This varies with different browsers. It's been months
and I still can't figure it out. Grrrrr.
<p>
<b>Addendum:</b> After writing the above, I discovered something else. The problem was caused by declaring
"display:inline-block" in the CSS for the div. The artifact goes away with "display:block". Alternatively,
the declaration "vertical-align:middle" also works. Why???

<p><hr><p>

<b>News item for September 15, 2021</b>
<p>
The <g_>8kun Bread Launcher</g_> has been updated in response to a recent change to the media server on 8kun. The media
server went down at 3PM on August 26 and was restored on September 13 after a downtime of 18 days and 4.5 hours. The
new domain for the media server is "images.128ducks.com". This condition is only temporary. Who knows how temporary?

<p><hr><p>

</body></html>
